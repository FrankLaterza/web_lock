import React, { useState } from "react";
import PropTypes, { func } from "prop-types";
import { useHistory } from "react-router-dom";
import { postAPI } from "./ControlItem";
import styled from "styled-components";

// const spooky = "data:image/svg+xml,%3Csvg width='180' height='180' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M82.42 180h-1.415L0 98.995v-2.827L6.167 90 0 83.833V81.004L81.005 0h2.827L90 6.167 96.167 0H98.996L180 81.005v2.827L173.833 90 180 96.167V98.996L98.995 180h-2.827L90 173.833 83.833 180H82.42zm0-1.414L1.413 97.58 8.994 90l-7.58-7.58L82.42 1.413 90 8.994l7.58-7.58 81.006 81.005-7.58 7.58 7.58 7.58-81.005 81.006-7.58-7.58-7.58 7.58zM175.196 0h-25.832c1.033 2.924 2.616 5.59 4.625 7.868C152.145 9.682 151 12.208 151 15c0 5.523 4.477 10 10 10 1.657 0 3 1.343 3 3v4h16V0h-4.803c.51.883.803 1.907.803 3 0 3.314-2.686 6-6 6s-6-2.686-6-6c0-1.093.292-2.117.803-3h10.394-13.685C161.18.938 161 1.948 161 3v4c-4.418 0-8 3.582-8 8s3.582 8 8 8c2.76 0 5 2.24 5 5v2h4v-4h2v4h4v-4h2v4h2V0h-4.803zm-15.783 0c-.27.954-.414 1.96-.414 3v2.2c-1.25.254-2.414.74-3.447 1.412-1.716-1.93-3.098-4.164-4.054-6.612h7.914zM180 17h-3l2.143-10H180v10zm-30.635 163c-.884-2.502-1.365-5.195-1.365-8 0-13.255 10.748-24 23.99-24H180v32h-30.635zm12.147 0c.5-1.416 1.345-2.67 2.434-3.66l-1.345-1.48c-1.498 1.364-2.62 3.136-3.186 5.14H151.5c-.97-2.48-1.5-5.177-1.5-8 0-12.15 9.84-22 22-22h8v30h-18.488zm13.685 0c-1.037-1.793-2.976-3-5.197-3-2.22 0-4.16 1.207-5.197 3h10.394zM0 148h8.01C21.26 148 32 158.742 32 172c0 2.805-.48 5.498-1.366 8H0v-32zm0 2h8c12.15 0 22 9.847 22 22 0 2.822-.53 5.52-1.5 8h-7.914c-.567-2.004-1.688-3.776-3.187-5.14l-1.346 1.48c1.09.99 1.933 2.244 2.434 3.66H0v-30zm15.197 30c-1.037-1.793-2.976-3-5.197-3-2.22 0-4.16 1.207-5.197 3h10.394zM0 32h16v-4c0-1.657 1.343-3 3-3 5.523 0 10-4.477 10-10 0-2.794-1.145-5.32-2.992-7.134C28.018 5.586 29.6 2.924 30.634 0H0v32zm0-2h2v-4h2v4h4v-4h2v4h4v-2c0-2.76 2.24-5 5-5 4.418 0 8-3.582 8-8s-3.582-8-8-8V3c0-1.052-.18-2.062-.512-3H0v30zM28.5 0c-.954 2.448-2.335 4.683-4.05 6.613-1.035-.672-2.2-1.16-3.45-1.413V3c0-1.04-.144-2.046-.414-3H28.5zM0 17h3L.857 7H0v10zM15.197 0c.51.883.803 1.907.803 3 0 3.314-2.686 6-6 6S4 6.314 4 3c0-1.093.292-2.117.803-3h10.394zM109 115c-1.657 0-3 1.343-3 3v4H74v-4c0-1.657-1.343-3-3-3-5.523 0-10-4.477-10-10 0-2.793 1.145-5.318 2.99-7.132C60.262 93.638 58 88.084 58 82c0-13.255 10.748-24 23.99-24h16.02C111.26 58 122 68.742 122 82c0 6.082-2.263 11.636-5.992 15.866C117.855 99.68 119 102.206 119 105c0 5.523-4.477 10-10 10zm0-2c-2.76 0-5 2.24-5 5v2h-4v-4h-2v4h-4v-4h-2v4h-4v-4h-2v4h-4v-4h-2v4h-4v-2c0-2.76-2.24-5-5-5-4.418 0-8-3.582-8-8s3.582-8 8-8v-4c0-2.64 1.136-5.013 2.946-6.66L72.6 84.86C70.39 86.874 69 89.775 69 93v2.2c-1.25.254-2.414.74-3.447 1.412C62.098 92.727 60 87.61 60 82c0-12.15 9.84-22 22-22h16c12.15 0 22 9.847 22 22 0 5.61-2.097 10.728-5.55 14.613-1.035-.672-2.2-1.16-3.45-1.413V93c0-3.226-1.39-6.127-3.6-8.14l-1.346 1.48C107.864 87.987 109 90.36 109 93v4c4.418 0 8 3.582 8 8s-3.582 8-8 8zM90.857 97L93 107h-6l2.143-10h1.714zM80 99c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zm20 0c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6z' fill='%23000000' fill-opacity='0.42' fill-rule='evenodd'/%3E%3C/svg%3E"
const chrima =
  "data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='80' height='70' patternTransform='scale(2) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(0, 0%, 20%, 1)'/><path d='M40.074-24.143c-.7.1-8.299 18.602-8.299 18.602-2.2 4.9-5.75 13.1-7.9 18-.4.9.25 1.9 1.35 2 4.1.35 8.25.55 12.35.6 0 .5-.05 1.048-.05 1.548 0 .6.2 7.352.1 7.352 2.1.15 2.65.299 4.3.049-.2 0-.05-5.15.024-8.95 4.275-.05 8.576-.3 12.826-.75 1.1-.1 1.75-1.15 1.35-2.05-1.2-2.55-2.8-6.899-3.1-7.549-.45-.95-1.25-2.902-1.7-3.852-.45-.9-5.8-12.8-7.15-15.85-1.35-3.05-2.75-6.1-4.1-9.15zM.7 10.857C0 10.957-7.6 29.46-7.6 29.46c-2.2 4.9-5.75 13.1-7.9 18-.4.9.25 1.9 1.35 2 4.1.35 8.25.55 12.35.6 0 .5-.05 1.048-.05 1.548 0 .6.2 7.352.1 7.352 2.1.15 2.65.299 4.3.049-.2 0-.05-5.15.024-8.95 4.275-.05 8.576-.3 12.826-.75 1.1-.1 1.75-1.15 1.35-2.05-1.2-2.55-2.8-6.899-3.1-7.549-.45-.95-1.25-2.902-1.7-3.852-.45-.9-5.8-12.8-7.15-15.85-1.35-3.05-2.75-6.1-4.1-9.15zm80 0c-.7.1-8.299 18.602-8.299 18.602-2.2 4.9-5.75 13.1-7.9 18-.4.9.25 1.9 1.35 2 4.1.35 8.25.55 12.35.6 0 .5-.05 1.048-.05 1.548 0 .6.2 7.352.1 7.352 2.1.15 2.65.299 4.3.049-.2 0-.05-5.15.024-8.95 4.275-.05 8.576-.3 12.826-.75 1.1-.1 1.75-1.15 1.35-2.05-1.2-2.55-2.8-6.899-3.1-7.549-.45-.95-1.25-2.902-1.7-3.852-.45-.9-5.8-12.8-7.15-15.85-1.35-3.05-2.75-6.1-4.1-9.15zm-40.625 35c-.7.1-8.299 18.602-8.299 18.602-2.2 4.9-5.75 13.1-7.9 18-.4.9.25 1.9 1.35 2 4.1.35 8.25.55 12.35.6 0 .5-.05 1.048-.05 1.548 0 .6.2 7.352.1 7.352 2.1.15 2.65.299 4.3.049-.2 0-.05-5.15.024-8.95 4.275-.05 8.576-.3 12.826-.75 1.1-.1 1.75-1.15 1.35-2.05-1.2-2.55-2.8-6.899-3.1-7.549-.45-.95-1.25-2.902-1.7-3.852-.45-.9-5.8-12.8-7.15-15.85-1.35-3.05-2.75-6.1-4.1-9.15z'  stroke-width='1' stroke='none' fill='hsla(132, 59%, 59%, 1)'/><path d='M40.045-32.22c-.15 0-.2.15-.25.25-.2.5-.45 1-.65 1.5a.813.813 0 01-.202.35c-.1.1-.248.15-.398.15-.6.05-1.2.15-1.8.2-.15.05-.302.1-.302.2 0 .05.052.15.102.2.45.5.948.95 1.398 1.4.05.05.102.1.102.15v.2c-.1.65-.252 1.3-.352 1.95 0 .1.002.25.102.3.05 0 .15 0 .2-.05.5-.2.998-.5 1.448-.8.15-.1.3-.2.5-.2.15.05.252.1.352.15.45.25.948.5 1.398.75.15.1.35.3.5.15.1-.1.05-.35 0-.45-.1-.55-.25-1.05-.35-1.6v-.2c0-.1.05-.15.1-.2l1.452-1.45c.05-.05.15-.15.1-.25 0-.1-.15-.15-.25-.15l-1.802-.15c-.1 0-.2 0-.25-.05-.1-.05-.149-.15-.199-.25-.3-.6-.55-1.15-.85-1.75 0-.05-.05-.05-.05-.1-.05-.05-.1-.05-.05-.25zm4.049 17.25c-1.4.65-2.85 1.3-4.3 1.9-1.9.85-3.85 1.7-5.8 2.4-.2.45-.4.9-.6 1.3 2.25-.75 4.4-1.7 6.55-2.65 1.6-.6 3.1-1.3 4.6-2-.15-.3-.3-.65-.45-.95zm-12.3 9.5c-.15.3-.3.65-.45.95 2.55.7 5.1 1.3 7.7 1.75 3.601.75 7.3 1.1 11 .9-.15-.35-.3-.65-.45-1-3.3.15-6.6-.15-9.85-.75-2.4-.4-4.75-1-7.1-1.6-.3-.1-.6-.15-.85-.25zm19.5 6.3c-8.35 4.2-17.25 7.35-26.45 9.4-.15.4-.35.8-.5 1.15a115.73 115.73 0 0027.4-9.6c-.15-.3-.3-.65-.45-.95zM.67 2.78c-.15 0-.2.15-.25.25-.2.5-.45 1-.65 1.5a.813.813 0 01-.202.35c-.1.1-.248.15-.398.15-.6.05-1.2.15-1.8.2-.15.05-.302.1-.302.2 0 .05.052.15.102.2.45.5.948.95 1.398 1.4.05.05.102.1.102.15v.2c-.1.65-.252 1.3-.352 1.95 0 .1.002.25.102.3.05 0 .15 0 .2-.05.5-.2.998-.5 1.448-.8.15-.1.3-.2.5-.2.15.05.252.1.352.15.45.25.948.5 1.398.75.15.1.35.3.5.15.1-.1.05-.35 0-.45-.1-.55-.25-1.05-.35-1.6v-.2c0-.1.05-.15.1-.2L4.02 5.73c.05-.05.15-.15.1-.25 0-.1-.15-.15-.25-.15l-1.802-.15c-.1 0-.2 0-.25-.05-.1-.05-.149-.15-.199-.25-.3-.6-.55-1.15-.85-1.75 0-.05-.05-.05-.05-.1-.05-.05-.1-.05-.05-.25zm80 0c-.15 0-.2.15-.25.25-.2.5-.45 1-.65 1.5a.813.813 0 01-.202.35c-.1.1-.248.15-.398.15-.6.05-1.2.15-1.8.2-.15.05-.302.1-.302.2 0 .05.052.15.102.2.45.5.948.95 1.398 1.4.05.05.102.1.102.15v.2c-.1.65-.252 1.3-.352 1.95 0 .1.002.25.102.3.05 0 .15 0 .2-.05.5-.2.998-.5 1.448-.8.15-.1.3-.2.5-.2.15.05.252.1.352.15.45.25.948.5 1.398.75.15.1.35.3.5.15.1-.1.05-.35 0-.45-.1-.55-.25-1.05-.35-1.6v-.2c0-.1.05-.15.1-.2l1.452-1.45c.05-.05.15-.15.1-.25 0-.1-.15-.15-.25-.15l-1.802-.15c-.1 0-.2 0-.25-.05-.1-.05-.149-.15-.199-.25-.3-.6-.55-1.15-.85-1.75 0-.05-.05-.05-.05-.1-.05-.05-.1-.05-.05-.25zM4.719 20.03c-1.4.65-2.85 1.3-4.3 1.9-1.9.85-3.85 1.7-5.8 2.4-.2.45-.4.9-.6 1.3 2.25-.75 4.4-1.7 6.55-2.65 1.6-.6 3.1-1.3 4.6-2-.15-.3-.3-.65-.45-.95zm80 0c-1.4.65-2.85 1.3-4.3 1.9-1.9.85-3.85 1.7-5.8 2.4-.2.45-.4.9-.6 1.3 2.25-.75 4.4-1.7 6.55-2.65 1.6-.6 3.1-1.3 4.6-2-.15-.3-.3-.65-.45-.95zm-92.3 9.5c-.15.3-.3.65-.45.95 2.55.7 5.1 1.3 7.7 1.75 3.601.75 7.3 1.1 11 .9-.15-.35-.3-.65-.45-1-3.3.15-6.6-.15-9.85-.75-2.4-.4-4.75-1-7.1-1.6-.3-.1-.6-.15-.85-.25zm80 0c-.15.3-.3.65-.45.95 2.55.7 5.1 1.3 7.7 1.75 3.6.75 7.3 1.1 11 .9-.15-.35-.3-.65-.45-1-3.3.15-6.6-.15-9.85-.75-2.4-.4-4.75-1-7.1-1.6-.3-.1-.6-.15-.85-.25zm-60.5 6.3c-8.35 4.2-17.25 7.35-26.45 9.4-.15.4-.35.8-.5 1.15a115.73 115.73 0 0027.4-9.6c-.15-.3-.3-.65-.45-.95zm80 0c-8.35 4.2-17.25 7.35-26.45 9.4-.15.4-.35.8-.5 1.15a115.73 115.73 0 0027.4-9.6c-.15-.3-.3-.65-.45-.95zm-51.874 1.95c-.15 0-.2.15-.25.25-.2.5-.45 1-.65 1.5a.813.813 0 01-.202.35c-.1.1-.248.15-.398.15-.6.05-1.2.15-1.8.2-.15.05-.302.1-.302.2 0 .05.052.15.102.2.45.5.948.95 1.398 1.4.05.05.102.1.102.15v.2c-.1.65-.252 1.3-.352 1.95 0 .1.002.25.102.3.05 0 .15 0 .2-.05.5-.2.998-.5 1.448-.8.15-.1.3-.2.5-.2.15.05.252.1.352.15.45.25.948.5 1.398.75.15.1.35.3.5.15.1-.1.05-.35 0-.45-.1-.55-.25-1.05-.35-1.6v-.2c0-.1.05-.15.1-.2l1.452-1.45c.05-.05.15-.15.1-.25 0-.1-.15-.15-.25-.15l-1.802-.15c-.1 0-.2 0-.25-.05-.1-.05-.149-.15-.199-.25-.3-.6-.55-1.15-.85-1.75 0-.05-.05-.05-.05-.1-.05-.05-.1-.05-.05-.25zm4.049 17.25c-1.4.65-2.85 1.3-4.3 1.9-1.9.85-3.85 1.7-5.8 2.4-.2.45-.4.9-.6 1.3 2.25-.75 4.4-1.7 6.55-2.65 1.6-.6 3.1-1.3 4.6-2-.15-.3-.3-.65-.45-.95zm-12.3 9.5c-.15.3-.3.65-.45.95 2.55.7 5.1 1.3 7.7 1.75 3.601.75 7.3 1.1 11 .9-.15-.35-.3-.65-.45-1-3.3.15-6.6-.15-9.85-.75-2.4-.4-4.75-1-7.1-1.6-.3-.1-.6-.15-.85-.25zm19.5 6.3c-8.35 4.2-17.25 7.35-26.45 9.4-.15.4-.35.8-.5 1.15a115.73 115.73 0 0027.4-9.6c-.15-.3-.3-.65-.45-.95z'  stroke-width='1' stroke='none' fill='hsla(339.6,82.2%,51.6%,1)'/><path d='M44.275-7.51c-.837.013-1.675.525-1.675 1.5 0 .75.55 1.351 1.15 1.551.95.25 2.201-.35 2.201-1.55 0-1.026-.838-1.513-1.676-1.5zM30.844 2.31c-.994.018-1.994.63-1.994 1.78 0 .85.651 1.602 1.351 1.802 1.15.3 2.6-.401 2.6-1.801.025-1.225-.963-1.8-1.957-1.781zM50.75 8.203c-1.2.025-2.4.762-2.4 2.137-.05 1 .75 1.951 1.65 2.201 1.4.4 3.15-.501 3.15-2.201 0-1.475-1.2-2.162-2.4-2.137zM4.9 27.49c-.837.013-1.675.525-1.675 1.5 0 .75.55 1.351 1.15 1.551.95.25 2.201-.35 2.201-1.55 0-1.026-.838-1.513-1.676-1.5zm80 0c-.837.013-1.675.525-1.675 1.5 0 .75.55 1.351 1.15 1.551.95.25 2.201-.35 2.201-1.55 0-1.026-.838-1.513-1.676-1.5zM-8.53 37.31c-.994.018-1.994.63-1.994 1.78 0 .85.651 1.602 1.351 1.802 1.15.3 2.6-.401 2.6-1.801.025-1.225-.963-1.8-1.957-1.781zm80 0c-.994.018-1.994.63-1.994 1.78 0 .85.651 1.602 1.351 1.802 1.15.3 2.6-.401 2.6-1.801.025-1.225-.964-1.8-1.957-1.781zm-60.094 5.894c-1.2.025-2.4.762-2.4 2.137-.05 1 .75 1.951 1.65 2.201 1.4.4 3.15-.501 3.15-2.201 0-1.475-1.2-2.162-2.4-2.137zm80 0c-1.2.025-2.4.762-2.4 2.137-.05 1 .75 1.951 1.65 2.201 1.4.4 3.15-.501 3.15-2.201 0-1.475-1.2-2.162-2.4-2.137zm-47.1 19.287c-.837.013-1.675.525-1.675 1.5 0 .75.55 1.351 1.15 1.551.95.25 2.201-.35 2.201-1.55 0-1.026-.838-1.513-1.676-1.5zM30.844 72.31c-.994.018-1.994.63-1.994 1.78 0 .85.651 1.602 1.351 1.802 1.15.3 2.6-.401 2.6-1.801.025-1.225-.963-1.8-1.957-1.781zm19.906 5.894c-1.2.025-2.4.762-2.4 2.137-.05 1 .75 1.951 1.65 2.201 1.4.4 3.15-.501 3.15-2.201 0-1.475-1.2-2.162-2.4-2.137z'  stroke-width='1' stroke='none' fill='hsla(198.7,97.6%,48.4%,1)'/><path d='M40.049-18.277c-.6.006-1.201.368-1.201 1.068 0 .5.4 1 .85 1.1.7.2 1.55-.25 1.55-1.1 0-.725-.6-1.075-1.2-1.068zM37.098-7.715c-.45.006-.9.282-.9.807 0 .35.25.699.6.799.5.15 1.2-.2 1.2-.8 0-.55-.45-.812-.9-.806zm3.775 7.256c-.587.013-1.176.376-1.176 1.05 0 .5.401.95.801 1.1.7.2 1.55-.25 1.55-1.1 0-.724-.587-1.062-1.175-1.05zM.673 16.723c-.6.006-1.2.368-1.2 1.068 0 .5.4 1 .85 1.1.7.2 1.55-.25 1.55-1.1 0-.725-.6-1.075-1.2-1.068zm80 0c-.6.006-1.2.368-1.2 1.068 0 .5.4 1 .85 1.1.7.2 1.55-.25 1.55-1.1 0-.725-.6-1.075-1.2-1.068zm-82.95 10.562c-.45.006-.9.282-.9.807 0 .35.25.699.6.799.5.15 1.2-.2 1.2-.8 0-.55-.45-.812-.9-.806zm80 0c-.45.006-.9.28-.9.805 0 .35.25.7.6.8.5.15 1.2-.2 1.2-.8 0-.55-.45-.811-.9-.805zM1.498 34.541c-.587.013-1.176.376-1.176 1.05 0 .5.401.95.801 1.1.7.2 1.55-.25 1.55-1.1 0-.724-.587-1.062-1.175-1.05zm80 0c-.587.013-1.176.374-1.176 1.049 0 .5.401.951.801 1.101.7.2 1.55-.251 1.55-1.101 0-.725-.587-1.061-1.175-1.049zm-41.45 17.182c-.6.006-1.2.368-1.2 1.068 0 .5.4 1 .85 1.1.7.2 1.55-.25 1.55-1.1 0-.725-.6-1.075-1.2-1.068zm-2.95 10.562c-.45.006-.9.282-.9.807 0 .35.25.699.6.799.5.15 1.2-.2 1.2-.8 0-.55-.45-.812-.9-.806zm3.775 7.256c-.587.013-1.176.376-1.176 1.05 0 .5.401.95.801 1.1.7.2 1.55-.25 1.55-1.1 0-.724-.587-1.062-1.175-1.05z'  stroke-width='1' stroke='none' fill='hsla(47,80.9%,61%,1)'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>";

const Conatiner = styled.div`
  overflow: none;
  background-color: rgba(41, 41, 41, 1);
  font-family: "Roboto", sans-serif;
  display: flex;
  text-align: center;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100%;
  color: white;
  padding: 2rem;
  margin: 0;
  font-size: 2rem;
  overflow: hidden;
`;

const Header = styled.div`
  background-color: rgb(31, 31, 31);
  width: 100%;
  height: 100px;
  gap: 20px;
  font-size: 3rem;
  text-align: center;
  position: absolute;
  top: 0;
  display: flex;
  justify-content: center;
  align-items: center;
`;

const Password = styled.div`
  margin-top: 20px;
  margin-bottom: 20px;
  margin-left: 2rem;
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-size: 3.5rem;
  height: 100px;
  width: 50%;
  gap: 15;

  @media (max-width: 800px) {
    width: 80%;
  }
`;

const GridContainer = styled.div`
  overflow: hidden;
  width: 25vw;
  height: 25vw;
  text-align: center;
  display: grid;
  gap: 10px;
  grid-template-columns: auto auto auto;
  background-color: #000000;
  border-radius: 1rem;
  padding: 10px;

  @media (max-width: 800px) {
    width: 80vw;
    height: 80vw;
  }
`;

const EnterBtn = styled.div`
  background: #2c2f35;
  border: 5px solid #000000;
  border-radius: 6px;
  box-shadow: rgba(0, 0, 0, 0.1) 1px 2px 4px;
  box-sizing: border-box;
  color: #ffffff;
  cursor: pointer;
  display: inline-block;
  font-family: nunito, roboto, proxima-nova, "proxima nova", sans-serif;
  font-size: 1.5rem;
  font-weight: 800;
  line-height: 16px;
  outline: 0;
  width: 25vw;
  height: 80px;
  margin-top: 10px;
  margin-bottom: 80px;
  padding: 10px;
  text-align: center;
  text-rendering: geometricprecision;
  text-transform: none;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  vertical-align: middle;
  display: flex;
  justify-content: center;
  align-items: center;

  @media (max-width: 800px) {
    width: 80vw;
  }
  :active {
    background-color: #838996;
  }
`;

const NumberBtn = styled.button`
  height: 100%;
  background-color: #2c2f35;
  border-radius: 12px;
  color: white;
  cursor: pointer;
  font-weight: bold;
  text-align: center;
  transition: 200ms;
  width: 100%;
  box-sizing: border-box;
  border: 0;
  font-size: 2rem;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
`;

const Numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];

export function PasswordPage(props) {
  const [auth, setAuth] = useState(0);
  setAuth(props.data.passwordAcceptance);

  const [password, setPassword] = useState("");
  let loginToggle = 0;

  function handleChange(e, num) {
    if (password.length !== 6) {
      // console.log(dashboardData[dashboardData.length - 1] [1]);
      setPassword(String(password) + String(num));
    }
  }

  function handleChangeRemove() {
    setPassword(String(Math.floor(password / 10)));
    if (password.length === 1) {
      setPassword("");
    }
  }

  const history = useHistory();

  // this will check with if auth on client
  function checkAuth(e, password) {
    // sends the current date
    // postAPI("date", Date.now(), "char", props.API);

    // checks if the password is aviable
    postAPI("passwordInput", password, "uint32_t", props.API);
    //reset the password
    setPassword("");
  }
  if (auth) {
    history.push("/lock");
  }

  console.log(props.data);
  console.log(password);

  return (
    <Conatiner style={{ backgroundImage: `url("${chrima}")` }}>
      <Header>
        <b>Password</b>
      </Header>
      <Password>
        <b>{password}</b>
        {password.length > 0 ? (
          <p onClick={(e) => handleChangeRemove(e)}>{"🎁"}</p>
        ) : (
          ""
        )}
      </Password>
      <GridContainer>
        {Numbers.map((num, index) => (
          <NumberBtn key={index} onClick={(e) => handleChange(e, num)}>
            {num}
          </NumberBtn>
        ))}
      </GridContainer>
      <EnterBtn onClick={(e) => checkAuth(e, password)}>ENTER</EnterBtn>
    </Conatiner>
  );
}

PasswordPage.propTypes = {
  API: PropTypes.string,
  uuid: PropTypes.number,
  data: PropTypes.object,
};
